## Section 26 - A (Pretty Deep Dive) Introduction to Next.js - Diving into Pages router

1. App router use directories with page.js file to manage routes, pages router uses files or directories with a index.js (for nested paths) file. 
2. Pages router uses square brackets to dynamic nested pages, the same way app router.
3. useRouter hook provides a query object with the param from the path.
4. Pages router also use Link from 'next/link' to keep links as single page app.
5. _app.js works as layout.js file on app router, we can wrap things on file that will be rendered on all subfiles.
6. useRouter also provides a .push param that is equivalent to the Link component.
7. When we fetch something using e.g. useEffect we have two render cicles, the first one with a empty object and a second one when data is fetched, but even if the data is shown correctly in the screen, when we search it on the page source we notice that it is missing, is empty in the html code. And They are missing because they are only rendered in the second component execution cycle, and the pre-rendered HTML page generated by the backend does not wait for the second cycle. Next.js doesn't wait for the that to be returned to return the fully pre-rendered page and return the result of the componente rendered in the first cycle. And how can we fetch data for pre-rendering?
We have two ways of doing that, Static generation and server-side rendering.
    * Static Site Generation (SSG): 
        - This function runs during the build process, it is better when you don't have data that changes all the time, like in seconds that even revalidate doesn't work.
        - It's faster than getServerSideProps.
        - getStaticProps: It's a function that only works inside the pages file and is executed always on the server to get the props for the page component to later pre-render the component with the correct data, it must return an object with the param "props" and the value can be the data you wanna return.
        - We can add an extra property to revalidate to the return of getStaticProps, it is 'revalidate', that accepts a number of seconds that the page will be revalidated and re-pre-generated.
    * Server-Side Rendering (SSR): 
        - getServerSideProps: works the same as getStaticProps but will always run on the server after the deploy.
8. If we are in a dynamic page and using getStaticProps you need to export another function called getStaticPaths to pre-generate all the dynamic pages with every valid dynamic param
    - can be async
    - it returns all the dynamic segments, like ids.
    - returns {
        fallback: false, // if false means that all paths are on the path param, true means that are not all on the path and the ones not there will be generated when called.
        paths: [{params: {id: "actual id in the path (as string)"}}]
    }
9. API routes: It is special routes/pages, that don't return html code, but json, working as a backend inside the frontend code.

